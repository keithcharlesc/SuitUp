<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"                
      xmlns:p="http://primefaces.org/ui"
      template="/template/defaultTemplate.xhtml">

    <!-- INTERFACE -->
    <cc:interface>
    </cc:interface>

    <!-- IMPLEMENTATION -->
    <cc:implementation>

        <p:dialog id="dialogCreateNewStandardProduct" style="width: 50em;" widgetVar="dialogCreateNewStandardProduct" header="Create New StandardProduct" modal="true" appendTo="@(body)" showEffect="fade" hideEffect="fade" resizable="false" closable="true" closeOnEscape="true">

            <h:form id="formCreateNewStandardProduct">

                <p:messages id="messages" redisplay="false" closable="true" />

                <p:panelGrid id="createNewStandardProductGrid" style="width: 30em;" styleClass="noBorder">

                    <p:row>
                        <p:column style="width: 30%;"><p:outputLabel style="font-weight: bold;" for="name" value="Name: "/></p:column>
                        <p:column style="width: 70%;"><p:inputText id="name" value="#{standardProductManagementManagedBean.newStandardProductEntity.name}" placeholder="StandardProduct" required="true" requiredMessage="Name is required" /></p:column>
                    </p:row>

                    <p:row>
                        <p:column><p:outputLabel style="font-weight: bold;" for="description" value="Description: "/></p:column>
                        <p:column><p:inputText id="description" value="#{standardProductManagementManagedBean.newStandardProductEntity.description}" placeholder="StandardProduct" required="true" requiredMessage="Description is required" /></p:column>
                    </p:row>

                    <p:row>
                        <p:column><p:outputLabel style="font-weight: bold;" for="skuCode" value="SKU Code: "/></p:column>
                        <p:column><p:inputText id="skuCode" value="#{standardProductManagementManagedBean.newStandardProductEntity.skuCode}" placeholder="SKU001" required="true" requiredMessage="SKU Code is required" /></p:column>
                    </p:row>

                    <p:row>
                        <p:column><p:outputLabel style="font-weight: bold;" for="quantityInStock" value="Quantity In Stock: "/></p:column>
                        <p:column><p:inputText id="quantityInStock" value="#{standardProductManagementManagedBean.newStandardProductEntity.quantityInStock}" placeholder="100" required="true" requiredMessage="Quantity In Stock is required" /></p:column>
                    </p:row>

                    <p:row>
                        <p:column><p:outputLabel style="font-weight: bold;" for="reorderQuantity" value="Reorder Quantity: "/></p:column>
                        <p:column><p:inputText id="reorderQuantity" value="#{standardProductManagementManagedBean.newStandardProductEntity.reorderQuantity}" placeholder="100" required="true" requiredMessage="Reorder Quantity is required" /></p:column>
                    </p:row>
                    
                    <p:row>
                        <p:column><p:outputLabel style="font-weight: bold;" for="unitPrice" value="Unit Price: "/></p:column>
                        <p:column><p:inputText id="unitPrice" value="#{standardProductManagementManagedBean.newStandardProductEntity.unitPrice}" placeholder="100" required="true" requiredMessage="Reorder Quantity is required" /></p:column>
                    </p:row>

                    <p:row>
                        <p:column><p:outputLabel style="font-weight: bold;" for="tags" value="Tag(s): "/></p:column>
                        <p:column>
                            <p:selectManyCheckbox id="tags" value="#{standardProductManagementManagedBean.newTagIds}" layout="grid" columns="3" styleClass="grid-checkbox">
                                <f:selectItems value="#{standardProductManagementManagedBean.tags}" var="tag" itemValue="#{tag.tagId}" itemLabel="#{tag.name}"  />
                            </p:selectManyCheckbox>
                        </p:column>
                    </p:row>

                    <p:row>
                        <p:column>
                            <p:outputLabel style="font-weight: bold;" for="category" value="Category: " />
                        </p:column>
                        <p:column>
                            <p:selectOneMenu style="width: 16em;" id="category" value="#{standardProductManagementManagedBean.newCategoryId}" required="true" requiredMessage="Category is required">
                                <f:selectItem itemValue="#{null}" itemLabel="[Select Category]" noSelectionOption="true" itemDisabled="true" />
                                <f:selectItems value="#{standardProductManagementManagedBean.categories}" var="category" itemLabel="#{category.name}" itemValue="#{category.categoryId}" />
                            </p:selectOneMenu>
                        </p:column>
                    </p:row>

                    <br/>
                    <p:separator/>
                    <br/>

                    <p:outputLabel style="font-weight: bold;" id="imageUploadLabel" for="imageUpload" value="Product Image: " rendered="#{standardProductManagementManagedBean.newStandardProductEntity.image == null}" />
                    <p:fileUpload id="imageUpload" update="@form" auto="true" listener="#{standardProductManagementManagedBean.handleFileUpload}" rendered="#{standardProductManagementManagedBean.newStandardProductEntity.image == null}" />
                    <h:outputText style="font-weight: bold; font-size: 1.5em;" value="Image has been uploaded" rendered="#{standardProductManagementManagedBean.newStandardProductEntity.image != null}" />

                    <br/>
                    <p:separator/>
                    <br/>

                    <p:row>
                        <p:column colspan="2" style="text-align: center;">
                            <p:commandButton type="reset" value="Clear">
                                
                            </p:commandButton>&nbsp;
                            <p:commandButton value="Create New Standard Product" update="@form viewStandardProductsTabView:ViewAllStandardProducts:formAllStandardProducts:dataTableAllStandardProducts" oncomplete="PF('dialogCreateNewStandardProduct').show()" actionListener="#{standardProductManagementManagedBean.createNewStandardProduct}" />
                        </p:column>
                    </p:row>
                    
                </p:panelGrid>

            </h:form>

        </p:dialog>
    </cc:implementation>
</html>